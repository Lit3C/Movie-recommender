{% extends "app/layouts/base.html" %}
{% load static %}
{% block title %}Résultat{% endblock title %}
{% block stylesheet %}<link rel="stylesheet" href="{% static 'css/result.css' %}">{% endblock stylesheet %}

{% block content %}
<div class="mx-5 my-5">
<div class="my-5">
    <h2>Vous recherchez {{ title_search }}</h2>
    <div class="d-flex align-items-center justify-content-center">
        <img class="main-movie-img movie-img" src="https://image.tmdb.org/t/p/w1280{{ poster_path.0 }}" alt="poster" height="500">
        <div class="mx-5">
            <p>Titre Original: {{ originalTitle.0 }}</p>
            <p>Titre Principal: {{ primaryTitle.0 }}</p>
            <p>Note : {{ averageRating.0 }} /10 ({{ vote_count.0 }})</p>
            <p>Année : {{ startYear.0 }}</p>
            <p>Genre : {{ genres_x.0 }}</p>
            <p>Durée : {{ runtime.0 }} min</p>
            <p>Description : {{ overview.0 }}</p>
            <p>Réalisateur : {{ director.0 }}</p>
            <p>Casting : {{ cast.0 }}</p>
            <p>Langue Origine : {{ original_language.0 }}</p>
        </div> 
    </div>
</div>
<div class="my-5">
    <h2>Vous pourriez aussi être intéressé(e) par :</h2>
    <div class="movie-container">
        <div class="movie-info">
            <p>{{ originalTitle.1 }} ({{ startYear.1 }})</p>
            <p>• {{ averageRating.1 }} /10 (sur {{ vote_count.1 }} votes)
                <br>• {{ runtime.1 }} min
                <br>• {{ original_language.1 }}
            </p>
            <p>Genre : {{ genres_x.1 }}</p>
            <p>Réalisateur : {{ director.1 }}</p>
            <p>Casting : {{ cast.1 }}</p>
        </div>
        <img class="ml-movie-img movie-img" src="https://image.tmdb.org/t/p/w1280{{ poster_path.1 }}" alt="poster">
    </div>
    <div class="movie-container">
        <div class="movie-info">
            <p>{{ originalTitle.2 }} ({{ startYear.2 }})</p>
            <p>• {{ averageRating.2 }} /10 (sur {{ vote_count.2 }} votes)
                <br>• {{ runtime.2 }} min
                <br>• {{ original_language.2 }}
            </p>
            <p>Genre : {{ genres_x.2 }}</p>
            <p>Réalisateur : {{ director.2 }}</p>
            <p>Casting : {{ cast.2 }}</p>
        </div>
        <img class="ml-movie-img movie-img" src="https://image.tmdb.org/t/p/w1280{{ poster_path.2 }}" alt="poster" width="200" height="300">
    </div>
    <div class="movie-container">
        <div class="movie-info">
            <p>{{ originalTitle.3 }} ({{ startYear.3 }})</p>
            <p>• {{ averageRating.3 }} /10 (sur {{ vote_count.3 }} votes)
                <br>• {{ runtime.3 }} min
                <br>• {{ original_language.3 }}
            </p>
            <p>Genre : {{ genres_x.3 }}</p>
            <p>Réalisateur : {{ director.3 }}</p>
            <p>Casting : {{ cast.3 }}</p>
        </div>
        <img class="ml-movie-img movie-img" src="https://image.tmdb.org/t/p/w1280{{ poster_path.3 }}" alt="poster" width="200" height="300">
    </div>
    <div class="movie-container">
        <div class="movie-info">
            <p>{{ originalTitle.4 }} ({{ startYear.4 }})</p>
            <p>• {{ averageRating.4 }} /10 (sur {{ vote_count.4 }} votes)
                <br>• {{ runtime.4 }} min
                <br>• {{ original_language.4 }}
            </p>
            <p>Genre : {{ genres_x.4 }}</p>
            <p>Réalisateur : {{ director.4 }}</p>
            <p>Casting : {{ cast.4 }}</p>
        </div>
        <img class="ml-movie-img movie-img" src="https://image.tmdb.org/t/p/w1280{{ poster_path.4 }}" alt="poster" width="200" height="300">
    </div>
    <div class="movie-container">
        <div class="movie-info">
            <p>{{ originalTitle.5 }} ({{ startYear.5 }})</p>
            <p>• {{ averageRating.5 }} /10 (sur {{ vote_count.5 }} votes)
                <br>• {{ runtime.5 }} min
                <br>• {{ original_language.5 }}
            </p>
            <p>Genre : {{ genres_x.5 }}</p>
            <p>Réalisateur : {{ director.5 }}</p>
            <p>Casting : {{ cast.5 }}</p>
        </div>
        <img class="ml-movie-img movie-img" src="https://image.tmdb.org/t/p/w1280{{ poster_path.5 }}" alt="poster" width="200" height="300">
    </div>
    <div class="movie-container">
        <div class="movie-info">
            <p>{{ originalTitle.6 }} ({{ startYear.6 }})</p>
            <p>• {{ averageRating.6 }} /10 (sur {{ vote_count.6 }} votes)
                <br>• {{ runtime.6 }} min
                <br>• {{ original_language.6 }}
            </p>
            <p>Genre : {{ genres_x.6 }}</p>
            <p>Réalisateur : {{ director.6 }}</p>
            <p>Casting : {{ cast.6 }}</p>
        </div>
        <img class="ml-movie-img movie-img" src="https://image.tmdb.org/t/p/w1280{{ poster_path.6 }}" alt="poster" width="200" height="300">
    </div>
    <div class="movie-container">
        <div class="movie-info">
            <p>{{ originalTitle.7 }} ({{ startYear.7 }})</p>
            <p>• {{ averageRating.7 }} /10 (sur {{ vote_count.7 }} votes)
                <br>• {{ runtime.7 }} min
                <br>• {{ original_language.7 }}
            </p>
            <p>Genre : {{ genres_x.7 }}</p>
            <p>Réalisateur : {{ director.7 }}</p>
            <p>Casting : {{ cast.7 }}</p>
        </div>
        <img class="ml-movie-img movie-img" src="https://image.tmdb.org/t/p/w1280{{ poster_path.7 }}" alt="poster" width="200" height="300">
    </div>
    <div class="movie-container">
        <div class="movie-info">
            <p>{{ originalTitle.8 }} ({{ startYear.8 }})</p>
            <p>• {{ averageRating.8 }} /10 (sur {{ vote_count.8 }} votes)
                <br>• {{ runtime.8 }} min
                <br>• {{ original_language.8 }}
            </p>
            <p>Genre : {{ genres_x.8 }}</p>
            <p>Réalisateur : {{ director.8 }}</p>
            <p>Casting : {{ cast.8 }}</p>
        </div>
        <img class="ml-movie-img movie-img" src="https://image.tmdb.org/t/p/w1280{{ poster_path.8 }}" alt="poster" width="200" height="300">
    </div>
    <div class="movie-container">
        <div class="movie-info">
            <p>{{ originalTitle.9 }} ({{ startYear.9 }})</p>
            <p>• {{ averageRating.9 }} /10 (sur {{ vote_count.9 }} votes)
                <br>• {{ runtime.9 }} min
                <br>• {{ original_language.9 }}
            </p>
            <p>Genre : {{ genres_x.9 }}</p>
            <p>Réalisateur : {{ director.9 }}</p>
            <p>Casting : {{ cast.9 }}</p>
        </div>
        <img class="ml-movie-img movie-img" src="https://image.tmdb.org/t/p/w1280{{ poster_path.9 }}" alt="poster" width="200" height="300">
    </div>
    <div class="movie-container">
        <div class="movie-info">
            <p>{{ originalTitle.10 }} ({{ startYear.10 }})</p>
            <p>• {{ averageRating.10 }} /10 (sur {{ vote_count.10 }} votes)
                <br>• {{ runtime.10 }} min
                <br>• {{ original_language.10 }}
            </p>
            <p>Genre : {{ genres_x.10 }}</p>
            <p>Réalisateur : {{ director.10 }}</p>
            <p>Casting : {{ cast.10 }}</p>
        </div>
        <img class="ml-movie-img movie-img" src="https://image.tmdb.org/t/p/w1280{{ poster_path.10 }}" alt="poster" width="200" height="300">
    </div>
    <div class="movie-container">
        <div class="movie-info">
            <p>{{ originalTitle.11 }} ({{ startYear.11 }})</p>
            <p>• {{ averageRating.11 }} /10 (sur {{ vote_count.11 }} votes)
                <br>• {{ runtime.11 }} min
                <br>• {{ original_language.11 }}
            </p>
            <p>Genre : {{ genres_x.11 }}</p>
            <p>Réalisateur : {{ director.11 }}</p>
            <p>Casting : {{ cast.11 }}</p>
        </div>
        <img class="ml-movie-img movie-img" src="https://image.tmdb.org/t/p/w1280{{ poster_path.11 }}" alt="poster" width="200" height="300">
    </div>
    <div class="movie-container">
        <div class="movie-info">
            <p>{{ originalTitle.12 }} ({{ startYear.12 }})</p>
            <p>• {{ averageRating.12 }} /10 (sur {{ vote_count.12 }} votes)
                <br>• {{ runtime.12 }} min
                <br>• {{ original_language.12 }}
            </p>
            <p>Genre : {{ genres_x.12 }}</p>
            <p>Réalisateur : {{ director.12 }}</p>
            <p>Casting : {{ cast.12 }}</p>
        </div>
        <img class="ml-movie-img movie-img" src="https://image.tmdb.org/t/p/w1280{{ poster_path.12 }}" alt="poster" width="200" height="300">
    </div>
    <div class="movie-container">
        <div class="movie-info">
            <p>{{ originalTitle.13 }} ({{ startYear.13 }})</p>
            <p>• {{ averageRating.13 }} /10 (sur {{ vote_count.13 }} votes)
                <br>• {{ runtime.13 }} min
                <br>• {{ original_language.13 }}
            </p>
            <p>Genre : {{ genres_x.13 }}</p>
            <p>Réalisateur : {{ director.13 }}</p>
            <p>Casting : {{ cast.13 }}</p>
        </div>
        <img class="ml-movie-img movie-img" src="https://image.tmdb.org/t/p/w1280{{ poster_path.13 }}" alt="poster" width="200" height="300">
    </div>
    <div class="movie-container">
        <div class="movie-info">
            <p>{{ originalTitle.14 }} ({{ startYear.14 }})</p>
            <p>• {{ averageRating.14 }} /10 (sur {{ vote_count.14 }} votes)
                <br>• {{ runtime.14 }} min
                <br>• {{ original_language.14 }}
            </p>
            <p>Genre : {{ genres_x.14 }}</p>
            <p>Réalisateur : {{ director.14 }}</p>
            <p>Casting : {{ cast.14 }}</p>
        </div>
        <img class="ml-movie-img movie-img" src="https://image.tmdb.org/t/p/w1280{{ poster_path.14 }}" alt="poster" width="200" height="300">
    </div>
    <div class="movie-container">
        <div class="movie-info">
            <p>{{ originalTitle.15 }} ({{ startYear.15 }})</p>
            <p>• {{ averageRating.15 }} /10 (sur {{ vote_count.15 }} votes)
                <br>• {{ runtime.15 }} min
                <br>• {{ original_language.15 }}
            </p>
            <p>Genre : {{ genres_x.15 }}</p>
            <p>Réalisateur : {{ director.15 }}</p>
            <p>Casting : {{ cast.15 }}</p>
        </div>
        <img class="ml-movie-img movie-img" src="https://image.tmdb.org/t/p/w1280{{ poster_path.15 }}" alt="poster" width="200" height="300">
    </div>
    <div class="movie-container">
        <div class="movie-info">
            <p>{{ originalTitle.16 }} ({{ startYear.16 }})</p>
            <p>• {{ averageRating.16 }} /10 (sur {{ vote_count.16 }} votes)
                <br>• {{ runtime.16 }} min
                <br>• {{ original_language.16 }}
            </p>
            <p>Genre : {{ genres_x.16 }}</p>
            <p>Réalisateur : {{ director.16 }}</p>
            <p>Casting : {{ cast.16 }}</p>
        </div>
        <img class="ml-movie-img movie-img" src="https://image.tmdb.org/t/p/w1280{{ poster_path.16 }}" alt="poster" width="200" height="300">
    </div>
    <div class="movie-container">
        <div class="movie-info">
            <p>{{ originalTitle.17 }} ({{ startYear.17 }})</p>
            <p>• {{ averageRating.17 }} /10 (sur {{ vote_count.17 }} votes)
                <br>• {{ runtime.17 }} min
                <br>• {{ original_language.17 }}
            </p>
            <p>Genre : {{ genres_x.17 }}</p>
            <p>Réalisateur : {{ director.17 }}</p>
            <p>Casting : {{ cast.17 }}</p>
        </div>
        <img class="ml-movie-img movie-img" src="https://image.tmdb.org/t/p/w1280{{ poster_path.17 }}" alt="poster" width="200" height="300">
    </div>
    <div class="movie-container">
        <div class="movie-info">
            <p>{{ originalTitle.18 }} ({{ startYear.18 }})</p>
            <p>• {{ averageRating.18 }} /10 (sur {{ vote_count.18 }} votes)
                <br>• {{ runtime.18 }} min
                <br>• {{ original_language.18 }}
            </p>
            <p>Genre : {{ genres_x.18 }}</p>
            <p>Réalisateur : {{ director.18 }}</p>
            <p>Casting : {{ cast.18 }}</p>
        </div>
        <img class="ml-movie-img movie-img" src="https://image.tmdb.org/t/p/w1280{{ poster_path.18 }}" alt="poster" width="200" height="300">
    </div>
</div>
</div>

{% endblock content %}

{% block scripts %}
{% comment %} <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
    $(document).ready(function() {
        // Attachez un gestionnaire d'événement au clic sur la div
        $(".movie-container").click(function() {
            // Effectuez une requête AJAX vers votre fonction Django
            $.ajax({
                url: "{% url 'app-result-click' %}",  // Assurez-vous de remplacer 'votre_fonction' par le nom que vous avez donné dans urls.py
                type: "GET",
                dataType: "json",
                success: function(data) {
                    // La fonction a réussi, traitez la réponse si nécessaire
                    console.log(data.message);
                },
                error: function(error) {
                    // La fonction a échoué, traitez l'erreur si nécessaire
                    console.error("Erreur lors de l'exécution de la fonction : ", error);
                }
            });
        });
    });
</script> {% endcomment %}


{% endblock scripts %}